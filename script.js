// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –∫–ª—é—á–µ–π
const users = {
    // –£—á–µ–Ω–∏–∫–∏
    'S0F1A2B3': { name: '–ê–π—Ä–∞–ø–µ—Ç—è–Ω—Ü –°–æ—Ñ–∏—è', role: '–£—á–µ–Ω–∏–∫', avatar: '–°–ê' },
    'B4G5R6T7': { name: '–ë–µ–±–∏—è –ë–∞–≥—Ä–∞—Ç', role: '–í–ª–∞–¥–µ–ª–µ—Ü —Å–∞–π—Ç–∞', avatar: '–ë–ë' },
    'D8M9T0R1': { name: '–ë–µ–ª—è–µ–≤ –î–º–∏—Ç—Ä–∏–π', role: '–£—á–µ–Ω–∏–∫', avatar: '–î–ë' },
    'A2R3T4M5': { name: '–ë–æ–∂–µ—Å–∫–∏–π –ê—Ä—Ç—ë–º', role: '–£—á–µ–Ω–∏–∫', avatar: '–ê–ë' },
    'V6E7R8O9': { name: '–ë—É–Ω–∫–æ–≤—Å–∫–∞—è –í–µ—Ä–æ–Ω–∏–∫–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–í–ë' },
    'U1L2Y3A4': { name: '–í–∞–ª–µ–µ–≤–∞ –£–ª—å—è–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–£–í' },
    'E5L6I7Z8': { name: '–í–æ—Ä–æ–±–µ–ª—å –ï–ª–∏–∑–∞–≤–µ—Ç–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ï–í' },
    'K9A0R1I2': { name: '–ì–∞—Ç–∏–∫–æ–µ–≤–∞ –ö–∞—Ä–∏–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ö–ì' },
    'P3O4L5I6': { name: '–ì–µ—Ä–∞—Å–∏–º–æ–≤–∞ –ü–æ–ª–∏–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ü–ì' },
    'M7A8X9I0': { name: '–ì–æ—Ä–ª–æ–≤ –ú–∞–∫—Å–∏–º', role: '–£—á–µ–Ω–∏–∫', avatar: '–ú–ì' },
    'V1E2R3O4': { name: '–î–µ–º–∏–¥–æ–≤–∏—á –í–µ—Ä–æ–Ω–∏–∫–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–í–î' },
    'A5N6D7R8': { name: '–î—Ä—ã–±–∞–ª–æ–≤ –ê–Ω–¥—Ä–µ–π', role: '–£—á–µ–Ω–∏–∫', avatar: '–ê–î' },
    'K9I0R1A2': { name: '–ï–ª—Å—É–∫–æ–≤–∞ –ö–∏—Ä–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ö–ï' },
    'Z3H4A5N6': { name: '–ï—Ä–º—É—Ö–∞–Ω–æ–≤ –ñ–∞–Ω–∞—Ö–º–µ–¥', role: '–£—á–µ–Ω–∏–∫', avatar: '–ñ–ï' },
    'L7I8A9N0': { name: '–ö–∞–ª–∏–Ω–∏–Ω–∞ –õ–∏–∞–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–õ–ö' },
    'E1V2G3E4': { name: '–ö–æ—á–º–∞—Ä –ï–≤–≥–µ–Ω–∏—è', role: '–£—á–µ–Ω–∏–∫', avatar: '–ï–ö' },
    'E5L6I7Z8': { name: '–õ–µ–æ–Ω—Ç—å–µ–≤–∞ –ï–ª–∏–∑–∞–≤–µ—Ç–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ï–õ' },
    'E9L0I1Z2': { name: '–ù–∞–¥—å—è—Ä–Ω–∞—è –ï–ª–∏–∑–∞–≤–µ—Ç–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ï–ù' },
    'K3S4E5N6': { name: '–û—á–∞–∫–æ–≤–∞ –ö—Å–µ–Ω–∏—è', role: '–£—á–µ–Ω–∏–∫', avatar: '–ö–û' },
    'A7L8I9N0': { name: '–ü—è–∂–∏–µ–≤–∞ –ê–ª–∏–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ê–ü' },
    'K1I2R3I4': { name: '–†–∞–¥–∏–≤–∏–ª–æ–≤ –ö–∏—Ä–∏–ª–ª', role: '–£—á–µ–Ω–∏–∫', avatar: '–ö–†' },
    'G5R6I7G8': { name: '–†—ã–±–∞–∫ –ì—Ä–∏–≥–æ—Ä–∏–π', role: '–£—á–µ–Ω–∏–∫', avatar: '–ì–†' },
    'K9I0R1I2': { name: '–®–∞—Ä–∏–Ω –ö–∏—Ä–∏–ª–ª', role: '–£—á–µ–Ω–∏–∫', avatar: '–ö–®' },
    'E3K4A5T6': { name: '–®–∏–ª–æ–≤–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ï–®' },
    'P7O8L9I0': { name: '–Ø–Ω—Ü–µ–≤–∏—á –ü–æ–ª–∏–Ω–∞', role: '–£—á–µ–Ω–∏–∫', avatar: '–ü–Ø' },
    
    // –£—á–∏—Ç–µ–ª—å
    'L1A2R3I4': { name: '–ê–ª–±–∞–µ–≤–∞ –õ–∞—Ä–∏—Å–∞ –ö–∞–¥—ã—Ä–æ–≤–Ω–∞', role: '–£—á–∏—Ç–µ–ª—å', avatar: '–õ–ê' }
};

// DOM —ç–ª–µ–º–µ–Ω—Ç—ã
const loginScreen = document.getElementById('login-screen');
const mainContent = document.getElementById('main-content');
const accessKeyInput = document.getElementById('access-key');
const loginBtn = document.getElementById('login-btn');
const userInfo = document.getElementById('user-info');
const userAvatar = document.getElementById('user-avatar');
const userName = document.getElementById('user-name');
const userRole = document.getElementById('user-role');
const welcomeName = document.getElementById('welcome-name');
const logoutBtn = document.getElementById('logout-btn');

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
function showNotification(message, type = 'success') {
    // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const existingNotification = document.querySelector('.notification');
    if (existingNotification) {
        existingNotification.remove();
    }

    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    
    document.body.appendChild(notification);

    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    setTimeout(() => {
        notification.classList.add('show');
    }, 100);

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// –§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞
function login() {
    const key = accessKeyInput.value.trim().toUpperCase();
    
    if (!key) {
        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞', 'error');
        return;
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
    loginBtn.classList.add('loading');
    
    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
    setTimeout(() => {
        const user = users[key];
        
        if (user) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            userAvatar.textContent = user.avatar;
            userName.textContent = user.name;
            userRole.textContent = user.role;
            userInfo.classList.add('show');
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
            setTimeout(() => {
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                welcomeName.textContent = user.name.split(' ')[0];
                
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
                loginScreen.classList.add('hidden');
                mainContent.classList.remove('hidden');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                if (user.role === '–í–ª–∞–¥–µ–ª–µ—Ü —Å–∞–π—Ç–∞') {
                    showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, —Å–æ–∑–¥–∞—Ç–µ–ª—å! üéâ –í–∞—à —Å–∞–π—Ç –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ!');
                } else if (user.role === '–£—á–∏—Ç–µ–ª—å') {
                    showNotification('–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –õ–∞—Ä–∏—Å–∞ –ö–∞–¥—ã—Ä–æ–≤–Ω–∞! üë©‚Äçüè´ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!');
                } else {
                    showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.name.split(' ')[0]}! ‚ú® –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º`);
                }

                // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–∞—á–∞–ª—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 800);
            
        } else {
            showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞', 'error');
            // –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏ input
            accessKeyInput.style.animation = 'shake 0.5s';
            setTimeout(() => {
                accessKeyInput.style.animation = '';
            }, 500);
        }
        
        // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
        loginBtn.classList.remove('loading');
    }, 1200);
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
function logout() {
    mainContent.classList.add('hidden');
    loginScreen.classList.remove('hidden');
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
    accessKeyInput.value = '';
    userInfo.classList.remove('show');
    
    showNotification('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å —Å–∫–æ—Ä–µ–µ! üëã');
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
loginBtn.addEventListener('click', login);

accessKeyInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        login();
    }
});

logoutBtn.addEventListener('click', logout);

// –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏ –¥–ª—è –æ—à–∏–±–æ–∫
const style = document.createElement('style');
style.textContent = `
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
`;
document.head.appendChild(style);

// –§–æ–∫—É—Å–∏—Ä—É–µ–º input –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
window.addEventListener('load', () => {
    accessKeyInput.focus();
});

// –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
document.querySelector('.scroll-indicator').addEventListener('click', () => {
    document.querySelector('.places-grid').scrollIntoView({ 
        behavior: 'smooth' 
    });
});

// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
        const cards = document.querySelectorAll('.place-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = `all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${index * 0.1}s`;
            observer.observe(card);
        });
    }, 100);
});

// –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
console.log('üå≤ –ü—Ä–µ–º–∏—É–º –≥–∏–¥ –°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏:');
console.log('‚≠ê –û—Å–æ–±—ã–µ –∫–ª—é—á–∏:');
console.log('   B4G5R6T7 - –ë–µ–±–∏—è –ë–∞–≥—Ä–∞—Ç (–í–ª–∞–¥–µ–ª–µ—Ü —Å–∞–π—Ç–∞)');
console.log('   L1A2R3I4 - –ê–ª–±–∞–µ–≤–∞ –õ–∞—Ä–∏—Å–∞ –ö–∞–¥—ã—Ä–æ–≤–Ω–∞ (–£—á–∏—Ç–µ–ª—å)');
console.log('');
console.log('üçΩÔ∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Å—Ç–∞: –í–µ—Ä–∞–Ω–¥–∞, –•–µ–≤–∞, –ü—Ö–∞–ª–∏ –•–∏–Ω–∫–∞–ª–∏, –¢–æ–∫–∏–æ –°–∏—Ç–∏, –ë–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞ –°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä');
